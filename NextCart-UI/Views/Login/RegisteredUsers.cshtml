@model List<ECommerce.Repository.User>

<div class="container mt-4">
 
    <hr />

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3>Customer List</h3>
        <a asp-action="Profile" asp-controller="Login" class="btn btn-info">
            <i class="fas fa-user-circle"></i> My Profile
        </a>
    </div>

    @if (Model != null && Model.Any())
    {
        <div class="table-responsive">
            <table class="table table-hover table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Registered Date</th> @* IMPORTANT: Still using LockoutEnd as a placeholder. See notes below. *@
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var customer in Model)
                    {
                        <tr>
                            <td>@customer.UserName</td>
                            <td>@customer.Email</td>
                            @* As discussed, LockoutEnd is not a registration date.
                                       For a true registration date, you need to add a 'RegistrationDate' property
                                       (e.g., public DateTime RegistrationDate { get; set; }) to your
                                       ECommerce.Repository.Models.User class and set it during user registration. *@
                            <td>@(customer.LockoutEnd.HasValue ? customer.LockoutEnd.Value.ToLocalTime().ToString("yyyy-MM-dd HH:mm") : "N/A")</td>
                            <td>
                                <a asp-action="EditUser" asp-controller="Login" asp-route-id="@customer.Id" class="btn btn-sm btn-outline-primary me-2">
                                    <i class="fas fa-eye"></i> View/Update @* Changed text to View/Update *@
                                </a>
                                @* Removed the separate "Edit" button as per your request *@
                                <a asp-action="DeleteUser" asp-controller="Login" asp-route-id="@customer.Id" class="btn btn-sm btn-outline-danger">
                                    <i class="fas fa-trash-alt"></i> Delete
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <div class="alert alert-info" role="alert">
            No customers found.
        </div>
    }
</div>